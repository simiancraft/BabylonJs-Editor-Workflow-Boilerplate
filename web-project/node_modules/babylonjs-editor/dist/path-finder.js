!function(e){function t(e){Object.defineProperty(this,e,{enumerable:!0,get:function(){return this[v][e]}})}function r(e){if("undefined"!=typeof System&&System.isModule?System.isModule(e):"[object Module]"===Object.prototype.toString.call(e))return e;var t={default:e,__useDefault:e};if(e&&e.__esModule)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return new o(t)}function o(e){Object.defineProperty(this,v,{value:e}),Object.keys(e).forEach(t,this)}function n(e){return"@node/"===e.substr(0,6)?c(e,r(m(e.substr(6))),{}):p[e]}function u(e){var t=n(e);if(!t)throw new Error('Module "'+e+'" expected, but not contained in build.');if(t.module)return t.module;var r=t.linkRecord;return i(t,r),a(t,r,[]),t.module}function i(e,t){if(!t.depLoads){t.declare&&d(e,t),t.depLoads=[];for(var r=0;r<t.deps.length;r++){var o=n(t.deps[r]);t.depLoads.push(o),o.linkRecord&&i(o,o.linkRecord);var u=t.setters&&t.setters[r];u&&(u(o.module||o.linkRecord.moduleObj),o.importerSetters.push(u))}return e}}function d(t,r){var o=r.moduleObj,n=t.importerSetters,u=!1,i=r.declare.call(e,function(e,t){if(!u){if("object"==typeof e)for(var r in e)"__useDefault"!==r&&(o[r]=e[r]);else o[e]=t;u=!0;for(var i=0;i<n.length;i++)n[i](o);return u=!1,t}},{id:t.key});"function"!=typeof i?(r.setters=i.setters,r.execute=i.execute):(r.setters=[],r.execute=i)}function l(e,t,r){return p[e]={key:e,module:void 0,importerSetters:[],linkRecord:{deps:t,depLoads:void 0,declare:r,setters:void 0,execute:void 0,moduleObj:{}}}}function f(e,t,r,o){var n={};return p[e]={key:e,module:void 0,importerSetters:[],linkRecord:{deps:t,depLoads:void 0,declare:void 0,execute:o,executingRequire:r,moduleObj:{default:n,__useDefault:n},setters:void 0}}}function s(e,t,r){return function(o){for(var n=0;n<e.length;n++)if(e[n]===o){var u,i=t[n],d=i.linkRecord;return u=d?-1===r.indexOf(i)?a(i,d,r):d.moduleObj:i.module,"__useDefault"in u?u.__useDefault:u}}}function a(t,r,n){if(n.push(t),t.module)return t.module;if(r.setters){for(var i=0;i<r.deps.length;i++){var d=r.depLoads[i],l=d.linkRecord;l&&-1===n.indexOf(d)&&a(d,l,l.setters?n:[])}r.execute.call(y)}else{var f={id:t.key},c=r.moduleObj;Object.defineProperty(f,"exports",{configurable:!0,set:function(e){c.default=c.__useDefault=e},get:function(){return c.__useDefault}});var p=s(r.deps,r.depLoads,n);if(!r.executingRequire)for(var i=0;i<r.deps.length;i++)p(r.deps[i]);var v=r.execute.call(e,p,c.__useDefault,f);void 0!==v?c.default=c.__useDefault=v:f.exports!==c.__useDefault&&(c.default=c.__useDefault=f.exports);var m=c.__useDefault;if(m&&m.__esModule)for(var b in m)Object.hasOwnProperty.call(m,b)&&(c[b]=m[b])}var f=t.module=new o(r.moduleObj);if(!r.setters)for(var i=0;i<t.importerSetters.length;i++)t.importerSetters[i](f);return f}function c(e,t){return p[e]={key:e,module:t,importerSetters:[],linkRecord:void 0}}var p={},v="undefined"!=typeof Symbol?Symbol():"@@baseObject";o.prototype=Object.create(null),"undefined"!=typeof Symbol&&Symbol.toStringTag&&(o.prototype[Symbol.toStringTag]="Module");var m="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&void 0!==require.resolve&&"undefined"!=typeof process&&process.platform&&require,y={};return Object.freeze&&Object.freeze(y),function(e,t,n,i){return function(d){d(function(d){var s={_nodeRequire:m,register:l,registerDynamic:f,registry:{get:function(e){return p[e].module},set:c},newModule:function(e){return new o(e)}};c("@empty",new o({}));for(var a=0;a<t.length;a++)c(t[a],r(arguments[a],{}));i(s);var v=u(e[0]);if(e.length>1)for(var a=1;a<e.length;a++)u(e[a]);return n?v.__useDefault:(v instanceof o&&Object.defineProperty(v,"__esModule",{value:!0}),v)})}}}("undefined"!=typeof self?self:"undefined"!=typeof global?global:this)(["a"],["f","12","d","10"],!0,function($__System){this.require,this.exports,this.module;$__System.registerDynamic("b",[],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0});var Extension=function(){function Extension(scene){this.alwaysApply=!1,this.scene=scene}return Extension.AddScript=function(code,url){var script=document.createElement("script");return script.type="text/javascript",script.text=code+"\n//# sourceURL="+url+"\n",document.head.appendChild(script),script},Extension}();exports.default=Extension}),$__System.registerDynamic("c",["d","b","e"],!0,function($__require,exports,module){"use strict";var __extends=(this||self,exports&&exports.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}());Object.defineProperty(exports,"__esModule",{value:!0});var extensions_1=$__require("d"),extension_1=$__require("b"),path_finder_1=$__require("e"),PathFinderExtension=function(_super){function PathFinderExtension(scene){var _this=_super.call(this,scene)||this;return _this.instances={},_this.datas=[],_this}return __extends(PathFinderExtension,_super),PathFinderExtension.prototype.onApply=function(data){var _this=this;this.datas=data,data.forEach(function(d){return _this._buildPathFinder(d)})},PathFinderExtension.prototype.onSerialize=function(){return this.scene.metadata&&this.scene.metadata.PathFinderExtension?this.scene.metadata.PathFinderExtension:null},PathFinderExtension.prototype.onLoad=function(data){var _this=this;this.datas=data,this.scene.metadata=this.scene.metadata||{},this.scene.metadata.PathFinderExtension=[],this.datas.forEach(function(d){return _this.scene.metadata.PathFinderExtension.push(d)})},PathFinderExtension.prototype._buildPathFinder=function(data){var _this=this,p=new path_finder_1.default(data.size),meshes=[];data.castMeshes.forEach(function(cm){var m=_this.scene.getMeshByName(cm);m&&meshes.push(m)}),p.fill(meshes,data.rayHeight,data.rayLength),this.instances[data.name]=p},PathFinderExtension}(extension_1.default);exports.default=PathFinderExtension,extensions_1.default.Register("PathFinderExtension",PathFinderExtension)}),$__System.registerDynamic("e",["f","10"],!0,function($__require,exports,module){"use strict";this||self;Object.defineProperty(exports,"__esModule",{value:!0});var babylonjs_1=$__require("f"),Astar=$__require("10"),PathFinder=function(){function PathFinder(size){this.graph=null,this.points=[],this.availablePoints=[],this._removeAnimationKey=function(path,i){var first=path[i].point,middle=path[i+1].point,last=path[i+2].point;return first.equals(last)&&first.equals(middle)?(path.splice(i+1,1),!0):!!new babylonjs_1.Vector3(.5*first.x+.5*last.x,.5*first.y+.5*last.y,.5*first.z+.5*last.z).equals(middle)&&(path.splice(i+1,1),!0)},this.rebuildBuffers(size)}return PathFinder.prototype.rebuildBuffers=function(size){this.width=this.height=size>>0,this.buffer=new Array(this.width);for(var i=0;i<this.height;i++)this.buffer[i]=new Array(this.height);this.points=[]},PathFinder.prototype.fromTo=function(from,to,optimize){void 0===optimize&&(optimize=!1);for(var fromIndex=-1,toIndex=-1,i=0;i<this.points.length;i++){var p=this.points[i];if(p&&(p.x===from.x&&p.z===from.z&&(fromIndex=i),p.x===to.x&&p.z===to.z&&(toIndex=i),-1!==fromIndex&&-1!==toIndex))break}var sx=fromIndex/this.width>>0,sy=fromIndex%this.height>>0,ex=toIndex/this.width>>0,ey=toIndex%this.width>>0,path=Astar.astar.search(this.graph,this.graph.grid[ex][ey],this.graph.grid[sx][sy],{heuristic:Astar.astar.heuristics.diagonal,closest:!0});if(optimize)for(var i=path.length-3;i>=0;--i)for(;path.length-i>=3&&this._removeAnimationKey(path,i););for(var result=[],i=0;i<path.length;i++){var p=path[i];if(!p.point)return;result.push(new babylonjs_1.Vector3(p.point.x,babylonjs_1.Scalar.Lerp(from.y,to.y,i/path.length),p.point.z))}return result.reverse()},PathFinder.prototype.createAnimation=function(name,path,framesPerSecond){void 0===framesPerSecond&&(framesPerSecond=60);for(var a=new babylonjs_1.Animation(name,"position",framesPerSecond,babylonjs_1.Animation.ANIMATIONTYPE_VECTOR3,babylonjs_1.Animation.ANIMATIONLOOPMODE_RELATIVE,!1),keys=new Array(path.length),i=0;i<path.length;i++)keys[i]={frame:i,value:path[i]};return a.setKeys(keys),a},PathFinder.prototype.findNearestPoint=function(point){for(var lastDistance=Number.MAX_VALUE,nearest=point,i=0;i<this.points.length;i++){var p=this.points[i];if(p){var d=babylonjs_1.Vector3.Distance(p,point);d<lastDistance&&(lastDistance=d,nearest=p)}}return new babylonjs_1.Vector3(nearest.x,point.y,nearest.z)},PathFinder.prototype.fill=function(castMeshes,rayHeight,rayLength){this.rebuildBuffers(this.width);var b=new babylonjs_1.BoundingInfo(babylonjs_1.Vector3.Zero(),babylonjs_1.Vector3.Zero()),average=babylonjs_1.Vector3.Zero();castMeshes.forEach(function(cm){cm.computeWorldMatrix(!0);var cb=cm._boundingInfo;cb.update(cm.getWorldMatrix()),b.minimum.x=Math.min(b.minimum.x,cb.minimum.x),b.minimum.y=Math.min(b.minimum.y,cb.minimum.y),b.minimum.z=Math.min(b.minimum.z,cb.minimum.z),b.maximum.x=Math.max(b.maximum.x,cb.maximum.x),b.maximum.y=Math.max(b.maximum.y,cb.maximum.y),b.maximum.z=Math.max(b.maximum.z,cb.maximum.z),average.x+=cb.boundingBox.centerWorld.x,average.y+=cb.boundingBox.centerWorld.y,average.z+=cb.boundingBox.centerWorld.z}),average.x/=castMeshes.length,average.y/=castMeshes.length,average.z/=castMeshes.length,this.boundingInfo=b;for(var xd=Math.abs(b.maximum.x)+Math.abs(b.minimum.x),yd=Math.abs(b.maximum.z)+Math.abs(b.minimum.z),s=average.subtract(new babylonjs_1.Vector3(xd/2,0,yd/2)),x=0;x<this.width;x++)for(var rx=x*xd/this.width,y=0;y<this.height;y++){var ry=y*yd/this.height,r=new babylonjs_1.Ray(s.add(new babylonjs_1.Vector3(rx,rayHeight||b.maximum.y+10,ry)),new babylonjs_1.Vector3(0,-1,0),rayLength||100),p=r.intersectsMeshes(castMeshes,!1),hit=p.find(function(p){return p.hit});hit?(this.points.push(hit.pickedPoint),this.buffer[x][y]=1):(this.points.push(null),this.buffer[x][y]=0)}this.graph=new Astar.Graph(this.buffer,{diagonal:!0});for(var x=0;x<this.width;x++)for(var y=0;y<this.height;y++){var coord=y*this.width+x;this.graph.grid[y][x].point=this.points[coord]}this.availablePoints=this.points.filter(function(p){return null!==p})},PathFinder}();exports.default=PathFinder}),$__System.registerDynamic("11",["12","a"],!0,function($__require,exports,module){"use strict";var __extends=(this||self,exports&&exports.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}());Object.defineProperty(exports,"__esModule",{value:!0});var babylonjs_editor_1=$__require("12"),index_1=$__require("a"),PathFinderTool=function(_super){function PathFinderTool(){var _this=_super.call(this)||this;return _this.divId="PATH-FINDER-TOOL",_this.tabName="Path Finder",_this}return __extends(PathFinderTool,_super),PathFinderTool.prototype.isSupported=function(object){return object instanceof index_1.default},PathFinderTool.prototype.update=function(pathFinder){var _this=this;_super.prototype.update.call(this,pathFinder);var folder=this.tool.addFolder("Configuration");folder.open(),this.object.data&&(folder.add(this.object.data,"name").name("Name").onFinishChange(function(r){_this.object.resetPathsOfToolbar(),_this.update(pathFinder)}),folder.add(this.object.data,"size").name("Size").onFinishChange(function(r){return _this.object.buildPathFinder()}),folder.add(this.object.data,"rayHeight").name("Ray Height").onFinishChange(function(r){return _this.object.buildPathFinder()}),folder.add(this.object.data,"rayLength").name("Ray Length").onFinishChange(function(r){return _this.object.buildPathFinder()})),this.object.data&&folder.add(this,"_removeData").name("Remove..."),folder.add(this,"_createNewData").name("Create new...")},PathFinderTool.prototype._createNewData=function(){this.object.addConfiguration(),this.object.resetPathsOfToolbar(),this.update(this.object)},PathFinderTool.prototype._removeData=function(){var index=this.object.datas.indexOf(this.object.data);-1!==index&&this.object.datas.splice(index,1),this.object.resetPathsOfToolbar(),this.object.resetWithData(this.object.datas[0]),this.update(this.object)},PathFinderTool}(babylonjs_editor_1.AbstractEditionTool);exports.default=PathFinderTool}),$__System.registerDynamic("a",["f","12","d","c","e","11"],!0,function($__require,exports,module){"use strict";var __extends=(this||self,exports&&exports.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}()),__awaiter=exports&&exports.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=exports&&exports.__generator||function(thisArg,body){function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g};Object.defineProperty(exports,"__esModule",{value:!0});var babylonjs_1=$__require("f"),babylonjs_editor_1=$__require("12"),extensions_1=$__require("d");$__require("c");var path_finder_1=$__require("e"),path_finder_tool_1=$__require("11"),PathFinderEditor=function(_super){function PathFinderEditor(editor){var _this=_super.call(this,"Path Finder")||this;return _this.editor=editor,_this.layout=null,_this.toolbar=null,_this.grid=null,_this.datas=[],_this.data=null,_this.canvas=null,_this.pathCubes=[],_this}return __extends(PathFinderEditor,_super),PathFinderEditor.OnLoaded=function(editor){editor.inspector.addTool(new path_finder_tool_1.default)},PathFinderEditor.prototype.close=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return this.grid.element.destroy(),this.toolbar.element.destroy(),this.layout.element.destroy(),this.pathCubes.forEach(function(c){return c.dispose()}),[4,_super.prototype.close.call(this)];case 1:return _a.sent(),[2]}})})},PathFinderEditor.prototype.create=function(){return __awaiter(this,void 0,void 0,function(){var scene,_this=this;return __generator(this,function(_a){return scene=this.editor.core.scene,scene.metadata=scene.metadata||{},scene.metadata.PathFinderExtension=scene.metadata.PathFinderExtension||[],this.datas=scene.metadata.PathFinderExtension,0===this.datas.length&&this.datas.push({name:"New path finder configuration",rayHeight:10,size:100,castMeshes:[],rayLength:100}),this.data=this.datas[0],this.layout=new babylonjs_editor_1.Layout("PathFinder"),this.layout.panels=[{type:"top",content:'<div id="PATH-FINDER-TOOLBAR" style="width: 100%; height: 100%;"></div>',size:30,resizable:!1},{type:"left",content:'<div id="PATH-FINDER-MESHES" style="width: 100%; height: 100%;"></div>',size:"50%",resizable:!0},{type:"main",content:'<canvas id="PATH-FINDER-PREVIEW" style="width: 100%; height: 100%; position: absolute; top: 0;"></canvas>',resizable:!0,size:"50%"}],this.layout.build(this.divElement.id),this.toolbar=new babylonjs_editor_1.Toolbar("PATH-FINDER-TOOLBAR"),this.toolbar.items=[{id:"paths",type:"menu",text:"Paths",img:"icon-graph",items:[]},{id:"edit",type:"button",text:"Edit",img:"icon-edit"}],this.toolbar.onClick=function(id){return _this.onToolbarClicked(id)},this.toolbar.helpUrl="http://doc.babylonjs.com/resources/using_pathfinder",this.toolbar.build("PATH-FINDER-TOOLBAR"),this.resetPathsOfToolbar(),this.grid=new babylonjs_editor_1.Grid("PathFinderGrid",{toolbarSearch:!1,toolbarAdd:!0,toolbarDelete:!0,toolbarEdit:!1,header:"Mesh Surfaces"}),this.grid.onAdd=function(){return _this.onAdd()},this.grid.onDelete=function(id){return _this.onDelete(id)},this.grid.columns=[{field:"name",caption:"Name",size:"100%"}],this.grid.build("PATH-FINDER-MESHES"),this.data.castMeshes.forEach(function(cm,index){return _this.grid.addRecord({recid:index,name:cm})}),this.grid.element.refresh(),this.canvas=$("#PATH-FINDER-PREVIEW")[0],this.canvas.addEventListener("click",function(){return _this.editor.inspector.setObject(_this)}),extensions_1.default.RequestExtension(this.editor.core.scene,"PathFinderExtension"),this.data.castMeshes.length>0&&this.buildPathFinder(),[2]})})},PathFinderEditor.prototype.onShow=function(){this.pathCubes.forEach(function(c){return c.isVisible=!0})},PathFinderEditor.prototype.onHide=function(){this.pathCubes.forEach(function(c){return c.isVisible=!1})},PathFinderEditor.prototype.onResize=function(){this.layout.element.resize()},PathFinderEditor.prototype.resetPathsOfToolbar=function(){this.toolbar.element.items[0].items=this.datas.map(function(d){return{id:"path-"+d.name.toLowerCase(),type:"button",text:d.name}}),this.toolbar.element.refresh()},PathFinderEditor.prototype.addConfiguration=function(){var name="New path finder configuration",existing=this.datas.find(function(p){return p.name===name});this.data={name:name+(existing?"_"+babylonjs_1.Tools.RandomId():""),rayHeight:10,size:100,castMeshes:[],rayLength:100},this.datas.push(this.data),this.layout.unlockPanel("left")},PathFinderEditor.prototype.resetWithData=function(data){var _this=this;if(this.data=data,this.grid.element.clear(),this.buildPathFinder(),!data)return void this.layout.lockPanel("left","No data",!1);this.data.castMeshes.forEach(function(cm,index){return _this.grid.addRecord({recid:index,name:cm})}),this.grid.element.refresh()},PathFinderEditor.prototype.buildPathFinder=function(){var _this=this;this.pathCubes.forEach(function(c){return c.dispose()}),this.pathCubes=[];var context=this.canvas.getContext("2d");if(!this.data||0===this.data.castMeshes.length)return context.fillStyle="#ffffff",void context.fillRect(0,0,this.canvas.width,this.canvas.height);var p=new path_finder_1.default(this.data.size),meshes=[];if(this.data.castMeshes.forEach(function(cm){var m=_this.editor.core.scene.getMeshByName(cm);m&&meshes.push(m)}),0!==meshes.length){p.fill(meshes,this.data.rayHeight,this.data.rayLength),this.canvas.width=p.width,this.canvas.height=p.height;for(var data=context.getImageData(0,0,this.data.size,this.data.size),x=0;x<p.width;x++)for(var y=0;y<p.height;y++){var coord=4*(y*p.width+x);data.data[coord]=255*p.buffer[x][y],data.data[coord+1]=255*p.buffer[x][y],data.data[coord+2]=255*p.buffer[x][y],data.data[coord+3]=255}context.putImageData(data,0,0,0,0,p.width,p.height),this.pathCubes.forEach(function(c){return c.dispose()}),this.pathCubes=[];for(var cube=null,cubeMesh=null,i=0;i<p.points.length;i++){var point=p.points[i];point&&(cubeMesh?cube=cubeMesh.createInstance("cube "+i):cubeMesh=cube=babylonjs_1.Mesh.CreateBox("sphere",1,this.editor.core.scene,!1),cube.position=point,babylonjs_1.Tags.AddTagsTo(cube,"temp"),this.pathCubes.push(cube))}cubeMesh&&(cubeMesh.doNotSerialize=!0)}},PathFinderEditor.prototype.onToolbarClicked=function(id){switch(id){case"edit":this.editor.core.onSelectObject.notifyObservers(this);break;default:for(var _i=0,_a=this.datas;_i<_a.length;_i++){var d=_a[_i];if(id==="paths:path-"+d.name.toLowerCase()){this.resetWithData(d),this.editor.core.onSelectObject.notifyObservers(this);break}}}},PathFinderEditor.prototype.onAdd=function(){var _this=this,picker=new babylonjs_editor_1.Picker("Meshes to add as path finder surface");picker.addItems(this.editor.core.scene.meshes);var meshes=[];this.data.castMeshes.forEach(function(cm){var m=_this.editor.core.scene.getMeshByName(cm);m&&meshes.push(m)}),picker.addSelected(meshes),picker.open(function(items){_this.data.castMeshes=[],_this.grid.element.clear(),items.forEach(function(i,index){_this.data.castMeshes.push(i.name),_this.grid.addRecord({recid:index,name:i.name})}),_this.grid.element.refresh(),_this.buildPathFinder()})},PathFinderEditor.prototype.onDelete=function(ids){var _this=this,offset=0;ids.forEach(function(id){_this.data.castMeshes.splice(id-offset,1),offset++}),this.buildPathFinder()},PathFinderEditor}(babylonjs_editor_1.EditorPlugin);exports.default=PathFinderEditor})})(function(factory){module.exports=factory(require("babylonjs"),require("babylonjs-editor"),require("extensions/extensions.js"),require("javascript-astar"))});